# ==========================================
# MOTBOX CORE - MAIN INDEX
# Owner: efeiswat
# ==========================================
from auth.player_data import Database
from engine.economy import Economy
from games.turkish_meet import TurkishMeetGame
from games.survival_999 import Survival999
from games.adopt_motbox import AdoptMotbox

class MotboxApp:
    def __init__(self):
        self.db = Database()
        self.economy = Economy()
        
    def run(self):
        print("--- MOTBOX PLATFORMUNA HOŞ GELDİNİZ ---")
        user = input("Kullanıcı Adı: ")
        pw = input("Şifre: ")

        if self.db.login_check(user, pw):
            self.main_menu(user)
        else:
            print("Hatalı Giriş!")

    def main_menu(self, user):
        rank = self.db.users[user]["rank"]
        while True:
            print(f"\n[MOTBOX DASHBOARD] - Kullanıcı: {user} | Rütbe: {rank}")
            print("1. Türk Tanışma (Social RP)")
            print("2. 999 Gece (Survival Horror)")
            print("3. Adopt Motbox (Pet/Trade)")
            print("4. Mats Coin Gönder")
            if rank == "OWNER":
                print("5. ADMIN PANEL (Rütbe Verme/Ban)")
            print("0. Çıkış")

            secim = input("Seçiminiz: ")
            if secim == "1":
                game = TurkishMeetGame(user, rank)
                game.start()
            elif secim == "2":
                game = Survival999(user)
                game.start_night()
            elif secim == "3":
                game = AdoptMotbox(user)
                game.open_world()
            elif secim == "4":
                self.economy.transfer_ui(user)
            elif secim == "5" and rank == "OWNER":
                self.admin_tools()
            elif secim == "0":
                break

    def admin_tools(self):
        cmd = input("Komut Gir (/superadmin [isim] | /ban [isim]): ")
        print(f"Sistem: '{cmd}' komutu başarıyla uygulandı.")

if __name__ == "__main__":
    app = MotboxApp()
    app.run()
    run_motbox()
    
